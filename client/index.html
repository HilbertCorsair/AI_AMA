<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="assets/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Testing AI APP</title>
    <link rel = "stylesheet" href="style.css">
  </head>

  <body>
    <banner>
    <img src="./assets/sd2.webp" alt="hilbertspace" id = 'h_space'>
    <h1>Dan's labyrinth</h1>

    <ul class="banner-menu">
      <li><a class="menu" href="index.html">Home</a></li>
      <li><a class="menu" href="links.html">Links</a></li>
      <li><a class="menu" href="thoughts.html">Thoughts</a></li>
      <li><a class="menu" href="about.html">About</a></li>
      <li><a class="menu" href="act.html">Act</a></li>
    </ul>

    </banner>

    <div class = "greeting">
      <p id = "intro"> If your life resembles a living hell, perhaps you are no longer deceiving yourself. Stick arround and you might find a way out. <br></p>

    </div>

    <div class = "greeting">
      <p id = "disclamer"> This site is under construction. The only functionallity so far is the chat-GPT chatbot. <br></p>
    </div>

    <canvas id="canvas"></canvas>
    <script src="https://cdn.jsdelivr.net/npm/gl-matrix@2.8.1/dist/gl-matrix.js"></script>

    <script>
      // Get the WebGL context
const canvas = document.getElementById('canvas');
const gl = canvas.getContext('webgl');

// Vertex shader program
const vertexShaderSource = `
  attribute vec3 aVertexPosition;
  uniform mat4 uModelViewMatrix;
  uniform mat4 uProjectionMatrix;

  void main() {
    gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertexPosition, 1.0);
  }
`;

// Fragment shader program
const fragmentShaderSource = `
  void main() {
    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0); // Red color
  }
`;

// Compile shaders
function compileShader(gl, source, type) {
  const shader = gl.createShader(type);
  gl.shaderSource(shader, source);
  gl.compileShader(shader);

  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
    console.error('An error occurred compiling the shaders:', gl.getShaderInfoLog(shader));
    gl.deleteShader(shader);
    return null;
  }

  return shader;
}

const vertexShader = compileShader(gl, vertexShaderSource, gl.VERTEX_SHADER);
const fragmentShader = compileShader(gl, fragmentShaderSource, gl.FRAGMENT_SHADER);

// Create the shader program
const shaderProgram = gl.createProgram();
gl.attachShader(shaderProgram, vertexShader);
gl.attachShader(shaderProgram, fragmentShader);
gl.linkProgram(shaderProgram);

if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {
  console.error('Unable to initialize the shader program:', gl.getProgramInfoLog(shaderProgram));
  gl.deleteProgram(shaderProgram);
}

gl.useProgram(shaderProgram);

// Define the geometry of a dodecahedron
const dodecahedronVertices = [
  // vertex coordinates
  // ...

  // define the vertices of the dodecahedron here
  // ...

];

// Create a buffer for the dodecahedron vertices
const vertexBuffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(dodecahedronVertices), gl.STATIC_DRAW);

// Configure the vertex position attribute
const vertexPositionAttribute = gl.getAttribLocation(shaderProgram, 'aVertexPosition');
gl.enableVertexAttribArray(vertexPositionAttribute);
gl.vertexAttribPointer(vertexPositionAttribute, 3, gl.FLOAT, false, 0, 0);

// Set up the projection matrix
const projectionMatrix = mat4.create();
mat4.perspective(projectionMatrix, 45 * Math.PI / 180, canvas.clientWidth / canvas.clientHeight, 0.1, 100.0);

// Animation variables
let rotation = 0;

// Render function
function render() {
  // Clear the canvas
  gl.clearColor(0.0, 0.0, 0.0, 1.0);
  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

  // Set up the model-view matrix
  const modelViewMatrix = mat4.create();
  mat4.translate(modelViewMatrix, modelViewMatrix, [0.0, 0.0, -6.0]);
  mat4.rotateY(modelViewMatrix, modelViewMatrix, rotation);
  mat4.rotateX(modelViewMatrix, modelViewMatrix, rotation);

  // Set the uniform values for the shaders
  const modelViewMatrixUniform = gl.getUniformLocation(shaderProgram, 'uModelViewMatrix');
  gl.uniformMatrix4fv(modelViewMatrixUniform, false, modelViewMatrix);

  const projectionMatrixUniform = gl.getUniformLocation(shaderProgram, 'uProjectionMatrix');
  gl.uniformMatrix4fv(projectionMatrixUniform, false, projectionMatrix);

  // Draw the dodecahedron
  gl.drawArrays(gl.TRIANGLES, 0, dodecahedronVertices.length / 3);

  // Update rotation for the next frame
  rotation += 0.01;

  // Request the next frame
  requestAnimationFrame(render);
}

// Start rendering
render();

    </script>

    

    <div id="app">
      <div id="chat_container"></div>
      <form>
        <textarea name = "prompt" rows="1" cols="1" placeholder="Ask me anything!"></textarea>
        <button type="submit">
          <img src="assets/send.svg" alt="send"/>
        
      </form>
    </div>

    


    <script type="module" src="/script.js"></script>
  
  </body>

</html>